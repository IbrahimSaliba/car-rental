import{a as W}from"./chunk-6GIOYABO.js";import{F as L,G as V,N as F,O,wd as U}from"./chunk-CIME44FR.js";import"./chunk-QUGVCGOV.js";import"./chunk-C3A5JGJ7.js";import{d as j,i as z,n as I}from"./chunk-S4IO7KIJ.js";import"./chunk-GUCAKHPU.js";import{a as N}from"./chunk-CAPXJCVD.js";import{a as A}from"./chunk-YG46HWFL.js";import{Ec as _,Ja as d,Kb as s,Lb as b,Mb as x,Oa as h,Pb as E,Qb as M,Rb as R,Sc as T,Tb as w,Tc as k,Vc as f,Wa as S,Xa as u,Y as c,db as p,lb as D,mb as v,nb as y,ob as i,pb as e,qb as l,sc as P,wb as g,xb as C}from"./chunk-SHJ7EWEG.js";import"./chunk-EQDQRRRY.js";var K=()=>({standalone:!0});function Q(n,G){if(n&1&&(i(0,"tr")(1,"td")(2,"p",26),s(3),e()(),i(4,"td")(5,"p",26),s(6),e()(),i(7,"td")(8,"span",27),l(9,"i",28),s(10),e()(),i(11,"td")(12,"div",29)(13,"button",30),l(14,"i",31),e(),i(15,"ul",32)(16,"li")(17,"a",33),l(18,"i",34),s(19,"Edit"),e()(),i(20,"li")(21,"a",35),l(22,"i",36),s(23,"Permissions"),e()(),i(24,"li")(25,"a",37),l(26,"i",38),s(27,"Delete"),e()()()()()()),n&2){let t=G.$implicit,a=C();d(3),b(t.ROLE),d(3),b(t.CREATEDDATE),d(3),p("ngClass",t.STATUS==="Active"?"text-success":"text-danger"),d(),x("",t.STATUS," "),d(11),p("routerLink",a.routes.permissions)}}var H=(()=>{class n{constructor(t,a,r){this.data=t,this.router=a,this.pagination=r,this.routes=A,this.initChecked=!1,this.pageSize=10,this.tableData=[],this.tableDataCopy=[],this.actualData=[],this.currentPage=1,this.skip=0,this.limit=this.pageSize,this.serialNumberArray=[],this.totalData=0,this.showFilter=!1,this.pageSelection=[],this.searchDataValue="",this.data.getRole().subscribe(m=>{this.actualData=m.data,this.pagination.tablePageSize.subscribe(o=>{this.router.url==this.routes.rolesPermissions&&(this.getTableData({skip:o.skip,limit:o.limit}),this.pageSize=o.pageSize)})})}getTableData(t){this.data.getRole().subscribe(a=>{this.tableData=[],this.tableDataCopy=[],this.serialNumberArray=[],this.totalData=a.totalData,a.data.map((r,m)=>{let o=m+1;m>=t.skip&&o<=t.limit&&(r.sNo=o,this.tableData.push(r),this.tableDataCopy.push(r),this.serialNumberArray.push(o))}),this.dataSource=new W(this.actualData),this.pagination.calculatePageSize.next({totalData:this.totalData,pageSize:this.pageSize,tableData:this.tableData,serialNumberArray:this.serialNumberArray})})}searchData(t){t==""?this.tableData=this.tableDataCopy:(this.dataSource.filter=t.trim().toLowerCase(),this.tableData=this.dataSource.filteredData)}sortData(t){let a=this.tableData.slice();!t.active||t.direction===""?this.tableData=a:this.tableData=a.sort((r,m)=>{let o=r[t.active],J=m[t.active];return(o<J?-1:1)*(t.direction==="asc"?1:-1)})}changePageSize(t){this.pageSelection=[],this.limit=t,this.skip=0,this.currentPage=1,this.pagination.tablePageSize.next({skip:this.skip,limit:this.limit,pageSize:this.pageSize})}static{this.\u0275fac=function(a){return new(a||n)(h(N),h(T),h(F))}}static{this.\u0275cmp=S({type:n,selectors:[["app-roles-permissions"]],standalone:!1,decls:40,vars:4,consts:[[1,"content","me-4"],[1,"d-md-flex","d-block","align-items-center","justify-content-between","page-breadcrumb","mb-3"],[1,"my-auto","mb-2"],[1,"mb-1"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","my-xl-auto","right-content","align-items-center","flex-wrap"],[1,"mb-2"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#add_role",1,"btn","btn-primary","d-flex","align-items-center"],[1,"ti","ti-plus","me-2"],[1,"d-flex","align-items-center","justify-content-end","flex-wrap","row-gap-3","mb-3"],[1,"d-flex","my-xl-auto","right-content","align-items-center","flex-wrap","row-gap-3"],[1,"top-search","me-2"],[1,"top-search-group"],[1,"input-icon"],[1,"ti","ti-search"],["type","search","placeholder","Search",1,"form-control","form-control-md",3,"ngModelChange","ngModel","ngModelOptions"],[1,"custom-datatable-filter","table-responsive"],["matSort","",1,"table","datatable",3,"matSortChange"],[1,"thead-light"],["mat-sort-header","role"],["mat-sort-header","created"],["mat-sort-header","status"],[1,"table-footer"],[1,"text-gray-5"],[1,"badge","badge-dark-transparent"],[1,"ti","ti-point-filled","me-1",3,"ngClass"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-icon","btn-sm"],[1,"ti","ti-dots-vertical"],[1,"dropdown-menu","dropdown-menu-end","p-2"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#edit_role",1,"dropdown-item","rounded-1"],[1,"ti","ti-edit","me-1"],[1,"dropdown-item","rounded-1",3,"routerLink"],[1,"ti","ti-shield","me-1"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#delete_role",1,"dropdown-item","rounded-1"],[1,"ti","ti-trash","me-1"]],template:function(a,r){a&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),s(4,"Roles"),e(),i(5,"nav")(6,"ol",4)(7,"li",5)(8,"a",6),s(9,"Home"),e()(),i(10,"li",7),s(11,"Roles"),e()()()(),i(12,"div",8)(13,"div",9)(14,"a",10),l(15,"i",11),s(16,"Add Role"),e()()()(),i(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15)(21,"span",16),l(22,"i",17),e(),i(23,"input",18),R("ngModelChange",function(o){return M(r.searchDataValue,o)||(r.searchDataValue=o),o}),g("ngModelChange",function(){return r.searchData(r.searchDataValue)}),e()()()()(),i(24,"div",19)(25,"table",20),g("matSortChange",function(o){return r.sortData(o)}),i(26,"thead",21)(27,"tr")(28,"th",22),s(29,"ROLE"),e(),i(30,"th",23),s(31,"CREATED DATE"),e(),i(32,"th",24),s(33,"STATUS"),e(),l(34,"th"),e()(),i(35,"tbody"),v(36,Q,28,5,"tr",null,D),e()()(),l(38,"div",25)(39,"app-custom-pagination"),e()),a&2&&(d(8),p("routerLink",r.routes.homeNew),d(15),E("ngModel",r.searchDataValue),p("ngModelOptions",w(3,K)),d(13),y(r.tableData))},dependencies:[P,k,j,z,I,L,V,O],encapsulation:2})}}return n})();var X=[{path:"",component:H}],q=(()=>{class n{static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275mod=u({type:n})}static{this.\u0275inj=c({imports:[f.forChild(X),f]})}}return n})();var gt=(()=>{class n{static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275mod=u({type:n})}static{this.\u0275inj=c({imports:[_,q,U]})}}return n})();export{gt as RolesPermissionsModule};
