import{a as le}from"./chunk-S2OJ3CST.js";import{a as Z}from"./chunk-6GIOYABO.js";import{L as G,M as H,N as W,O as q,hd as J,id as K,kd as Q,q as U,t as V,w as Y,wd as X,y as F}from"./chunk-BMY7ZGYW.js";import"./chunk-QUGVCGOV.js";import"./chunk-C3A5JGJ7.js";import{d as L,i as O,n as B}from"./chunk-S4IO7KIJ.js";import"./chunk-BKFMDLCC.js";import{a as z}from"./chunk-EQB7LYGQ.js";import{a as P}from"./chunk-YG46HWFL.js";import{Bb as v,Ec as R,Fa as g,Ja as m,Kb as i,Lb as c,Mb as x,Oa as h,Pb as w,Qb as I,Rb as A,Sc as _,Tb as M,Tc as N,Vc as f,Wa as y,Xa as S,Y as u,db as p,lb as T,mb as C,nb as D,ob as e,pb as t,qb as n,sc as j,wb as b,xb as k}from"./chunk-SHJ7EWEG.js";import{e as ae}from"./chunk-EQDQRRRY.js";var E=ae(le());var re=()=>({standalone:!0});function me(o,ie){if(o&1&&(e(0,"tr")(1,"td")(2,"a",6),i(3),t()(),e(4,"td")(5,"div",110)(6,"a",111),n(7,"img",112),t(),e(8,"h6")(9,"a",113),i(10),t()()()(),e(11,"td")(12,"p",114),i(13),t()(),e(14,"td")(15,"p",114),i(16),t()(),e(17,"td")(18,"span",115),n(19,"i",116),i(20),t()(),e(21,"td")(22,"div",110)(23,"a",111),n(24,"img",112),t(),e(25,"h6")(26,"a",113),i(27),t()()()(),e(28,"td")(29,"span",117),n(30,"i",116),i(31),t()(),e(32,"td")(33,"div",12)(34,"button",118),n(35,"i",119),t(),e(36,"ul",23)(37,"li")(38,"a",24),n(39,"i",120),i(40,"Edit"),t()(),e(41,"li")(42,"a",121),n(43,"i",122),i(44,"Delete"),t()()()()()()),o&2){let a=ie.$implicit,l=k();m(2),p("routerLink",l.routes.ticketDetails),m(),c(a.TICKETCODE),m(4),v("src","assets/admin/assets/img/profiles/",a.CREATEDIMAGE,"",g),m(3),c(a.CREATEDBY),m(3),c(a.SUBJECT),m(3),c(a.CREATEDDATE),m(3),p("ngClass",a.PRIORITY==="Low"?"text-success":a.PRIORITY==="Medium"?"text-warning":"text-danger"),m(),x("",a.PRIORITY," "),m(4),v("src","assets/admin/assets/img/profiles/",a.ASSIGNEEIMAGE,"",g),m(3),c(a.ASSIGNEE),m(2),p("ngClass",a.STATUS==="Resolved"?"bg-success-transparent":a.STATUS==="Inprogress"?"bg-info-transparent":a.STATUS==="Open"?"bg-violet-transparent":"bg-danger-transparent"),m(),p("ngClass",a.STATUS==="Resolved"?"text-success":a.STATUS==="Inprogress"?"text-info":a.STATUS==="Open"?"text-violet":"text-danger"),m(),x("",a.STATUS," ")}}var ee=(()=>{class o{ngOnInit(){this.editor=new Q}ngOnDestroy(){this.editor.destroy()}constructor(a,l,r){this.data=a,this.router=l,this.pagination=r,this.toolbar=[["bold","italic","format_clear"],["underline","strike"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["image"],["link"]],this.routes=P,this.initChecked=!1,this.pageSize=10,this.tableData=[],this.tableDataCopy=[],this.actualData=[],this.currentPage=1,this.skip=0,this.limit=this.pageSize,this.serialNumberArray=[],this.totalData=0,this.showFilter=!1,this.pageSelection=[],this.searchDataValue="",this.data.getTicket().subscribe(s=>{this.actualData=s.data,this.pagination.tablePageSize.subscribe(d=>{this.router.url==this.routes.tickets&&(this.getTableData({skip:d.skip,limit:d.limit}),this.pageSize=d.pageSize)})})}getTableData(a){this.data.getTicket().subscribe(l=>{this.tableData=[],this.tableDataCopy=[],this.serialNumberArray=[],this.totalData=l.totalData,l.data.map((r,s)=>{let d=s+1;s>=a.skip&&d<=a.limit&&(r.sNo=d,this.tableData.push(r),this.tableDataCopy.push(r),this.serialNumberArray.push(d))}),this.dataSource=new Z(this.actualData),this.pagination.calculatePageSize.next({totalData:this.totalData,pageSize:this.pageSize,tableData:this.tableData,serialNumberArray:this.serialNumberArray})})}searchData(a){a==""?this.tableData=this.tableDataCopy:(this.dataSource.filter=a.trim().toLowerCase(),this.tableData=this.dataSource.filteredData)}sortData(a){let l=this.tableData.slice();!a.active||a.direction===""?this.tableData=l:this.tableData=l.sort((r,s)=>{let d=r[a.active],ne=s[a.active];return(d<ne?-1:1)*(a.direction==="asc"?1:-1)})}changePageSize(a){this.pageSelection=[],this.limit=a,this.skip=0,this.currentPage=1,this.pagination.tablePageSize.next({skip:this.skip,limit:this.limit,pageSize:this.pageSize})}ngAfterViewInit(){let a=document.querySelector("#phone"),l=document.querySelector("#phone2");(0,E.default)(a,{initialCountry:"us",preferredCountries:["us","gb","in"],utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/js/utils.js"}),(0,E.default)(l,{initialCountry:"us",preferredCountries:["us","gb","in"],utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/js/utils.js"}),a.addEventListener("input",()=>{a.value=a.value.replace(/[^0-9+()-\s]/g,"")}),l.addEventListener("input",()=>{l.value=l.value.replace(/[^0-9+()-\s]/g,"")})}static{this.\u0275fac=function(l){return new(l||o)(h(z),h(_),h(W))}}static{this.\u0275cmp=y({type:o,selectors:[["app-tickets"]],standalone:!1,decls:334,vars:7,consts:[[1,"content","me-4"],[1,"d-md-flex","d-block","align-items-center","justify-content-between","page-breadcrumb","mb-3"],[1,"my-auto","mb-2"],[1,"mb-1"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","my-xl-auto","right-content","align-items-center","flex-wrap"],[1,"mb-2","me-2"],["href","javascript:void(0);",1,"btn","btn-white","d-flex","align-items-center"],[1,"ti","ti-printer","me-2"],[1,"dropdown"],["href","javascript:void(0);",1,"btn","btn-dark","d-inline-flex","align-items-center"],[1,"ti","ti-upload","me-1"],[1,"mb-2"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#add_ticket",1,"btn","btn-primary","d-flex","align-items-center"],[1,"ti","ti-plus","me-2"],[1,"d-flex","align-items-center","justify-content-between","flex-wrap","row-gap-3","mb-3"],[1,"d-flex","align-items-center","flex-wrap","row-gap-3"],[1,"dropdown","me-2"],["href","javascript:void(0);","data-bs-toggle","dropdown",1,"dropdown-toggle","btn","btn-white","d-inline-flex","align-items-center"],[1,"ti","ti-filter","me-1"],[1,"dropdown-menu","dropdown-menu-end","p-2"],["href","javascript:void(0);",1,"dropdown-item","rounded-1"],["href","#filtercollapse","data-bs-toggle","collapse","role","button","aria-expanded","false","aria-controls","filtercollapse",1,"filtercollapse","coloumn","d-inline-flex","align-items-center"],[1,"badge","badge-xs","rounded-pill","bg-danger","ms-2"],[1,"d-flex","my-xl-auto","right-content","align-items-center","flex-wrap","row-gap-3"],[1,"top-search","me-2"],[1,"top-search-group"],[1,"input-icon"],[1,"ti","ti-search"],["type","search","placeholder","Search",1,"form-control","form-control-md",3,"ngModelChange","ngModel","ngModelOptions"],["href","javascript:void(0);","data-bs-toggle","dropdown",1,"dropdown-toggle","coloumn","btn","btn-white","d-inline-flex","align-items-center"],[1,"ti","ti-layout-board","me-1"],[1,"dropdown-menu","dropdown-menu-lg","p-2"],[1,"dropdown-item","d-flex","align-items-center","justify-content-between","rounded-1"],[1,"d-inline-flex","align-items-center"],[1,"ti","ti-grip-vertical","me-1"],[1,"form-check","form-check-sm","form-switch","mb-0"],["type","checkbox","role","switch","checked","",1,"form-check-input","form-label"],["id","filtercollapse",1,"collapse"],[1,"filterbox","mb-3","d-flex","align-items-center"],[1,"me-3"],["href","javascript:void(0);","data-bs-toggle","dropdown","data-bs-auto-close","outside",1,"dropdown-toggle","btn","btn-white","d-inline-flex","align-items-center"],[1,"top-search","m-2"],["type","text","placeholder","Search",1,"form-control"],[1,"dropdown-item","d-flex","align-items-center","rounded-1"],["type","checkbox",1,"form-check-input","m-0","me-2"],["href","javascript:void(0);",1,"me-2","text-purple","links"],["href","javascript:void(0);",1,"text-danger","links"],[1,"custom-datatable-filter","table-responsive"],["matSort","",1,"table","datatable",3,"matSortChange"],[1,"thead-light"],["mat-sort-header","role"],["mat-sort-header","created"],["mat-sort-header","email"],["mat-sort-header","proirity"],["mat-sort-header","assign"],["mat-sort-header","status"],[1,"table-footer"],["id","add_ticket",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"mb-0"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","custom-btn-close"],[1,"ti","ti-x","fs-16"],[1,"modal-body","pb-1"],[1,"row"],[1,"mb-3"],[1,"form-label"],[1,"text-danger"],[1,"d-flex","align-items-center","justify-content-center","avatar","avatar-xxl","border","me-3","flex-shrink-0","text-dark","frames"],[1,"ti","ti-photo-up","text-gray-4","fs-24"],[1,"profile-upload"],[1,"profile-uploader","d-flex","align-items-center"],[1,"drag-upload-btn","btn","btn-md","btn-dark"],[1,"ti","ti-photo-up","fs-14"],["type","file","multiple","",1,"form-control","image-sign"],[1,"mt-2"],[1,"fs-14"],[1,"col-md-6"],["type","text",1,"form-control"],[1,"col-md-12"],["type","text","id","phone","name","phone",1,"form-control"],["placeholder","Select",1,"custom-mat-select","select"],["value","1"],[1,"input-icon-end","position-relative"],["type","text","bsDatepicker","","placeholder","dd/mm/yyyy",1,"form-control","datetimepicker"],[1,"input-icon-addon"],[1,"ti","ti-calendar"],[1,"editor"],[3,"editor"],[3,"editor","toolbar"],[1,"document-upload","text-center","br-3","mb-3"],["src","assets/admin/assets/img/icons/upload-icon.svg","alt","img",1,"mb-2"],[1,"text-info","text-decoration-underline"],[1,"fs-12","mb-0"],["type","file","multiple","","accept",".pdf, .txt, .doc, .docx",1,"form-control","image-sign"],[1,"modal-footer"],[1,"d-flex","justify-content-center"],["href","javascript:void(0);","data-bs-dismiss","modal",1,"btn","btn-light","me-3"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-primary"],["id","delete_contact",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-sm"],[1,"modal-body","text-center"],[1,"avatar","avatar-lg","bg-transparent-danger","rounded-circle","text-danger","mb-3"],[1,"ti","ti-trash-x","fs-26"],["href","javascript:void(0);","data-bs-dismiss","modal",1,"btn","btn-primary"],[1,"d-flex","align-items-center"],["href","javascript:void(0);",1,"avatar","me-2","flex-shrink-0"],["alt","",1,"rounded-circle",3,"src"],["href","javascript:void(0);",1,"fs-14","fw-semibold"],[1,"text-gray-9"],[1,"badge","badge-dark-transparent"],[1,"ti","ti-point-filled","me-1",3,"ngClass"],[1,"badge",3,"ngClass"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-icon","btn-sm"],[1,"ti","ti-dots-vertical"],[1,"ti","ti-edit","me-1"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#delete_contact",1,"dropdown-item","rounded-1"],[1,"ti","ti-trash","me-1"]],template:function(l,r){l&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),i(4,"Tickets"),t(),e(5,"nav")(6,"ol",4)(7,"li",5)(8,"a",6),i(9,"Home"),t()(),e(10,"li",7),i(11,"Tickets"),t()()()(),e(12,"div",8)(13,"div",9)(14,"a",10),n(15,"i",11),i(16,"Print"),t()(),e(17,"div",9)(18,"div",12)(19,"a",13),n(20,"i",14),i(21,"Export "),t()()(),e(22,"div",15)(23,"a",16),n(24,"i",17),i(25,"Add New Ticket"),t()()()(),e(26,"div",18)(27,"div",19)(28,"div",20)(29,"a",21),n(30,"i",22),i(31," Sort By : Latest "),t(),e(32,"ul",23)(33,"li")(34,"a",24),i(35,"Latest"),t()(),e(36,"li")(37,"a",24),i(38,"Ascending"),t()(),e(39,"li")(40,"a",24),i(41,"Desending"),t()(),e(42,"li")(43,"a",24),i(44,"Last Month"),t()(),e(45,"li")(46,"a",24),i(47,"Last 7 Days"),t()()()(),e(48,"div",12)(49,"a",25),n(50,"i",22),i(51," Filter"),e(52,"span",26),i(53,"0"),t()()()(),e(54,"div",27)(55,"div",28)(56,"div",29)(57,"span",30),n(58,"i",31),t(),e(59,"input",32),A("ngModelChange",function(d){return I(r.searchDataValue,d)||(r.searchDataValue=d),d}),b("ngModelChange",function(){return r.searchData(r.searchDataValue)}),t()()(),e(60,"div",12)(61,"a",33),n(62,"i",34),i(63," Columns "),t(),e(64,"div",35)(65,"ul")(66,"li")(67,"div",36)(68,"span",37),n(69,"i",38),i(70,"TICKET CODE"),t(),e(71,"div",39),n(72,"input",40),t()()(),e(73,"li")(74,"div",36)(75,"span"),n(76,"i",38),i(77,"CREATED BY"),t(),e(78,"div",39),n(79,"input",40),t()()(),e(80,"li")(81,"div",36)(82,"span"),n(83,"i",38),i(84,"SUBJECT"),t(),e(85,"div",39),n(86,"input",40),t()()(),e(87,"li")(88,"div",36)(89,"span"),n(90,"i",38),i(91,"CREATED DATE"),t(),e(92,"div",39),n(93,"input",40),t()()(),e(94,"li")(95,"div",36)(96,"span"),n(97,"i",38),i(98,"PRIORITY"),t(),e(99,"div",39),n(100,"input",40),t()()(),e(101,"li")(102,"div",36)(103,"span"),n(104,"i",38),i(105,"ASSIGNEE"),t(),e(106,"div",39),n(107,"input",40),t()()(),e(108,"li")(109,"div",36)(110,"span"),n(111,"i",38),i(112,"STATUS"),t(),e(113,"div",39),n(114,"input",40),t()()()()()()()(),e(115,"div",41)(116,"div",42)(117,"h6",43),i(118,"Filters"),t(),e(119,"div",20)(120,"a",44),i(121," Priority "),t(),e(122,"ul",35)(123,"li")(124,"div",45)(125,"div",29)(126,"span",30),n(127,"i",31),t(),n(128,"input",46),t()()(),e(129,"li")(130,"label",47),n(131,"input",48),i(132,"Low "),t()(),e(133,"li")(134,"label",47),n(135,"input",48),i(136,"Medium "),t()(),e(137,"li")(138,"label",47),n(139,"input",48),i(140,"High "),t()()()(),e(141,"div",20)(142,"a",44),i(143," Status "),t(),e(144,"ul",35)(145,"li")(146,"div",45)(147,"div",29)(148,"span",30),n(149,"i",31),t(),n(150,"input",46),t()()(),e(151,"li")(152,"label",47),n(153,"input",48),i(154,"Resolved "),t()(),e(155,"li")(156,"label",47),n(157,"input",48),i(158,"Inprogress "),t()(),e(159,"li")(160,"label",47),n(161,"input",48),i(162,"Open "),t()(),e(163,"li")(164,"label",47),n(165,"input",48),i(166,"Closed "),t()()()(),e(167,"a",49),i(168,"Apply"),t(),e(169,"a",50),i(170,"Clear All"),t()()(),e(171,"div",51)(172,"table",52),b("matSortChange",function(d){return r.sortData(d)}),e(173,"thead",53)(174,"tr")(175,"th",54),i(176,"TICKET CODE"),t(),e(177,"th",55),i(178,"CREATED BY"),t(),e(179,"th",56),i(180,"SUBJECT"),t(),e(181,"th",55),i(182,"CREATED DATE"),t(),e(183,"th",57),i(184,"PRIORITY"),t(),e(185,"th",58),i(186,"ASSIGNEE"),t(),e(187,"th",59),i(188,"STATUS"),t(),n(189,"th"),t()(),e(190,"tbody"),C(191,me,45,15,"tr",null,T),t()()(),n(193,"div",60)(194,"app-custom-pagination"),t(),e(195,"div",61)(196,"div",62)(197,"div",63)(198,"div",64)(199,"h5",65),i(200,"Add Ticket"),t(),e(201,"button",66),n(202,"i",67),t()(),e(203,"div",68)(204,"div",69)(205,"div",70)(206,"label",71),i(207,"Image "),e(208,"span",72),i(209,"*"),t()(),e(210,"div",19)(211,"div",73),n(212,"i",74),t(),e(213,"div",75)(214,"div",76)(215,"div",77),n(216,"i",78),i(217," Upload "),n(218,"input",79),t()(),e(219,"div",80)(220,"p",81),i(221,"Upload Image size 180*180, within 5MB"),t()()()()(),e(222,"div",82)(223,"div",70)(224,"label",71),i(225,"Customer Name "),e(226,"span",72),i(227,"*"),t()(),n(228,"input",83),t()(),e(229,"div",82)(230,"div",70)(231,"label",71),i(232,"Email "),e(233,"span",72),i(234,"*"),t()(),n(235,"input",83),t()(),e(236,"div",84)(237,"div",70)(238,"label",71),i(239,"Phone Number "),e(240,"span",72),i(241,"*"),t()(),n(242,"input",85),t()(),e(243,"div",82)(244,"div",70)(245,"label",71),i(246,"Ticket Code "),e(247,"span",72),i(248,"*"),t()(),n(249,"input",83),t()(),e(250,"div",82)(251,"div",70)(252,"label",71),i(253,"Category "),e(254,"span",72),i(255,"*"),t()(),e(256,"mat-select",86)(257,"mat-option",87),i(258,"Select"),t(),e(259,"mat-option",87),i(260,"Payment Issue"),t(),e(261,"mat-option",87),i(262,"Car Not Available"),t(),e(263,"mat-option",87),i(264,"Refund Request"),t()()()(),e(265,"div",82)(266,"div",70)(267,"label",71),i(268,"Priority "),e(269,"span",72),i(270,"*"),t()(),e(271,"mat-select",86)(272,"mat-option",87),i(273,"Select"),t(),e(274,"mat-option",87),i(275,"Low"),t(),e(276,"mat-option",87),i(277,"Medium"),t(),e(278,"mat-option",87),i(279,"High"),t()()()(),e(280,"div",82)(281,"div",70)(282,"label",71),i(283,"Created Date "),e(284,"span",72),i(285,"*"),t()(),e(286,"div",88),n(287,"input",89),e(288,"span",90),n(289,"i",91),t()()()(),e(290,"div",84)(291,"div",70)(292,"label",71),i(293,"Description "),e(294,"span",72),i(295,"*"),t()(),e(296,"div",92)(297,"ngx-editor",93),n(298,"ngx-editor-menu",94),t()(),e(299,"p",80),i(300,"Maximum 60 Words"),t()()(),e(301,"div",84)(302,"label",71),i(303," Document"),t(),e(304,"div",95),n(305,"img",96),e(306,"p",15),i(307,"Drop your files here or "),e(308,"span",97),i(309,"Browse"),t()(),e(310,"p",98),i(311,"Maximum size 50mb"),t(),n(312,"input",99),t()()()(),e(313,"div",100)(314,"div",101)(315,"a",102),i(316,"Cancel"),t(),e(317,"button",103),i(318,"Create"),t()()()()()(),e(319,"div",104)(320,"div",105)(321,"div",63)(322,"div",106)(323,"span",107),n(324,"i",108),t(),e(325,"h4",3),i(326,"Delete Tickets"),t(),e(327,"p",70),i(328,"Are you sure you want to delete Tickets?"),t(),e(329,"div",101)(330,"a",102),i(331,"Cancel"),t(),e(332,"a",109),i(333,"Yes, Delete"),t()()()()()()),l&2&&(m(8),p("routerLink",r.routes.adminDashboard),m(51),w("ngModel",r.searchDataValue),p("ngModelOptions",M(6,re)),m(132),D(r.tableData),m(106),p("editor",r.editor),m(),p("editor",r.editor)("toolbar",r.toolbar))},dependencies:[j,N,V,U,L,O,B,Y,F,G,H,q,J,K],encapsulation:2})}}return o})();var oe=[{path:"",component:ee}],te=(()=>{class o{static{this.\u0275fac=function(l){return new(l||o)}}static{this.\u0275mod=S({type:o})}static{this.\u0275inj=u({imports:[f.forChild(oe),f]})}}return o})();var Re=(()=>{class o{static{this.\u0275fac=function(l){return new(l||o)}}static{this.\u0275mod=S({type:o})}static{this.\u0275inj=u({imports:[R,te,X]})}}return o})();export{Re as TicketsModule};
